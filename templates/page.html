<!DOCTYPE html>
<!-- 文档类型申明标签 -->
<html lang="zh-CN">
<!-- 当前文档的显示语言为中文网站 -->

<head>
    <meta charset="UTF-8">
    <!-- 按照utf-8规则存储字符 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>师大二手交易网站</title>
    <link rel="shortcut icon" href="{{ static('favicon.ico') }}" />
    <!-- 标题图标 -->
    <meta name="description" content="师大学子的二手图书交易网站！" />
    <link rel="stylesheet" href="{{ static('css/base.css') }}">
    <!-- 引入初始化文件 -->
    <link rel="stylesheet" href="{{ static('css/common.css') }}">
    <!-- 引入公共css样式 -->
    <link rel="stylesheet" href="{{ static('css/index.css') }}">
     <style>
ul.pagination1 {
    display: inline-block;
    padding: 0;
    {#margin: 0;#}
    margin: 0 auto;

}

ul.pagination1 button {display: inline;}

ul.pagination1 button a {
    color: black;
    float: left;
    padding: 8px 16px;
    text-decoration: none;
    transition: background-color .3s;
    border: 1px solid #ddd;
    font-size: 18px;
}

ul.pagination1 button a.active {
    background-color: #eee;
    color: black;
    border: 1px solid #ddd;
}

ul.pagination1 button a:hover:not(.active) {background-color: #ddd;}
</style>
</head>

<body>
    <!-- 导航栏开始 -->
    <section class="shortcut">
        <div class="w">
            <div class="fz">
                <ul>
                    <li> <img src="{{ static('favicon.ico') }}" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li>
                    <li>图书交易方便你我！&nbsp;&nbsp;</li>
                    {% if user.is_authenticated %}
                        <li>
                        <a href="#">用户名:</a>
                        <a href="#" class="red">{{ user.username }}</a>
                        <a href="/logout/">退出</a>
                    </li>
                    {% else %}
                    <li>
                        <a href="/login/">请登录&nbsp;</a>
                        <a href="/register/" class="red">免费注册</a>
                    </li>
                    {% endif %}
                </ul>
            </div>
            <div class="fy">
                <ul>
                    <li class="orange">咨询电话：<strong>180 4772 7335</strong>&nbsp;&nbsp;</li>
                    <li><a href="/upload/" class="orange">管理员登录</a></li>
                </ul>
            </div>
        </div>
    </section>
    <!-- 导航栏结束 -->

    <!-- 头部模块开始 -->
    <header class="header w">
        <!-- 搜索模块开始 -->
        <div class="search">
            <input type="search" name="" id="" placeholder="java从入门到精通">
            <button>搜索</button>
        </div>
        <!--搜索模块结束  -->
        <div class="gongneng">
            <strong><a href="#">我的订单&nbsp;&nbsp;&nbsp;&nbsp;</a></strong>
            <strong><a href="#">我的收藏&nbsp;&nbsp;&nbsp;&nbsp;</a></br></strong>
            <strong><a href="#">在线留言&nbsp;&nbsp;&nbsp;&nbsp;</a></strong>
            <strong><a href="#">发布图书&nbsp;&nbsp;&nbsp;&nbsp;</a></strong>
        </div>
    </header>
    <!-- 头部模块结束 -->
    <!-- nav导航模块开始 -->
    <nav class="nav">
        <div class="w">
            <div class="zdh">
                <div class="dt">全部图书分类</div>
                <div class="dd">
                    <ul>
                        <li><a href="#">经济金融</a></li>
                        <li><a href="#">教育考试</a></li>
                        <li><a href="#">计算机与网络</a></li>
                        <li><a href="#">语言学习</a></li>
                        <li><a href="#">医学卫生</a></li>
                        <li><a href="#">科技工程</a></li>
                        <li><a href="#">文学小说</a></li>
                        <li><a href="#">法律</a></li>
                        <li><a href="#">建筑</a></li>
                    </ul>
                </div>
            </div>
            <div class="ydh">
                <ul>
                    <li><a href="#">首页</a></li>
                    <li><a href="#">出售</a></li>
                    <li><a href="#">求购</a></li>
                    <li><a href="#">免费赠送</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- nav导航模块结束 -->
    <!-- main模块开始  -->
    <div class="w">
        <div class="main">
            <ul>
                <li>
                    <img src="{{ static('images/focus1.jpg') }}" alt=""></li>
            </ul>
        </div>
    </div>
    <!-- main模块结束  -->



    <!-- 列表页主体模块开始 -->
    <div class="w list">
        <div class="bh">
            <h3>&nbsp;&nbsp;好书推荐</h3>
        </div>
        <div class="bd">
            <ul>
                {% for i in book %}
                <li>
                    <a href="/xiangqing/?name={{ i.name }}"><img src="{{ static('database_images') }}/{{ i.image }}" alt="" style="width: 210px;height: 150px"></a>
                    <h4>{{  i.name }}</h4>
                    <div class="jiage">
                        {{ i.price }}
                    </div>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
{#<div class="fenye">#}
    <center>    <ul class="pagination1" id="btn_div">

        <button id="btn_prev">
            {% if page_num == 1 %}
            <a href="/index/{{ page_num }}">上一页</a>
            {% else %}
            <a href="/index/{{ page_num - 1 }}">上一页</a>
            {% endif %}
        </button>
        <button id="btn_next">

{#             <a href="/index/{{ page_num }}">下一页</a>#}
{#            {% else %}#}
{#              {% if page_num == 2 %}#}
{#                            <script>#}
{#                            alert('已经是最后一页了！')#}
{#                            </script>#}
{#            {% endif %}#}
            <a href="/index/{{ page_num + 1 }}">下一页</a>

{#            {% endif %}#}
        </button>
</ul></center>

{#</div>#}






    <!-- 列表页主体模块结束 -->





    <!-- 底部模块制作开始 -->
    <footer class="footer">
        <div class="w">
            <div class="banquan">
                <div class="guanyu">
                    关于我们 | 联系我们 | 联系客服 | 商家入驻 | 营销中心 | 友情链接 | 销售联盟 |
                </div>
                <div class="dizhi">
                    地址：内蒙古自治区呼和浩特市内蒙古师范大学 邮编：010000 电话：400-618-4000 传真：010-82935100 邮箱: 1243580174@qq.com
                </div>
            </div>
        </div>
    </footer>
    <!-- 底部模块制作结束 -->




  <script>
        const num = 1;
        {#let booksList = [];#}
        // 封装请求函数
        {#function getPage(n) {#}
        {#    $.ajax({#}
        {#        type: 'get',#}
        {#        url: '/page/?number=' + n,#}
        {#        success(res) {#}
        {#            booksList = data#}
        {#            var htmlStr = template('books_html', booksList)#}
        {#            $('dis_books').html(htmlStr)#}
        {#        }#}
        {#    })#}
        {#}#}
        {#// 执行函数#}
        getPage(num);
        // 为上一页按钮添加点击事件
        $('#btn_prev').on('click', function () {
            // console.log(1);
            if (num === 1) {
                alert('已经是第一页了！')
                return false;
            }
            num = num - 1;
            getPage(num);
        })
        // 为下一页按钮添加点击事件
        $('#btn_next').on('click', function () {
            // console.log(1);
            var max;
            // max是最大页数
            if (num === max) {
                alert('已经是最后一页了！')
                return false;
            }
            num++;
            getPage(num);
        })
    </script>
</body>

</html>